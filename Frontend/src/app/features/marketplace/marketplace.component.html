<section class="products-page" [attr.aria-labelledby]="headingId">
  <app-section-header
    [headingId]="headingId"
    [heading]="pageHeading()"
    headingLevel="h1"
    [subtitle]="pageSubtitle()"
    eyebrow="Marketplace"
  />

  <app-data-state
    [loading]="loading()"
    [error]="error()"
    [hasData]="(products()?.length ?? 0) > 0"
    loadingMessage="Loading the latest catalogâ€¦"
    emptyMessage="No products are available yet. Check back soon!"
    errorTitle="Could not load products."
    (retry)="reload()"
  />

  @if (!loading() && featuredCategories().length > 0) {
    <app-featured-categories [categories]="featuredCategories()" />
  }

  @if (featuredProduct(); as featured) {
    <app-product-featured-card [product]="featured" />
  }
  @if (remainingProducts().length) {
    <app-product-grid [products]="remainingProducts()" />
  }
</section>
