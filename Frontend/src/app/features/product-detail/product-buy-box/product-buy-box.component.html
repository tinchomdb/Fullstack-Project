<div class="buy-box-content">
  <app-product-price [price]="product().price" [currency]="product().currency" [size]="'lg'" />

  @if (inStock()) {
    <div class="delivery-info">
      <app-delivery-icon [size]="20" />
      <span class="delivery-text">FREE delivery</span>
    </div>

    <div class="stock-info success">
      <app-check-circle-icon [size]="20" />
      <span>{{ stockText() }}</span>
    </div>

    <app-quantity-selector
      [quantity]="quantity()"
      [maxStock]="product().stock"
      [disabled]="addingToCart()"
      (increaseClick)="onQuantityIncrease()"
      (decreaseClick)="onQuantityDecrease()"
    />

    <app-button
      [variant]="'primary'"
      [size]="'full'"
      [disabled]="addingToCart()"
      (click)="onAddToCart()"
    >
      @if (addingToCart()) {
        <span>Adding...</span>
      } @else {
        <span>Add to Cart</span>
      }
    </app-button>

    <app-button
      [variant]="'secondary'"
      [size]="'full'"
      [disabled]="addingToCart()"
      (click)="onBuyNow()"
    >
      Buy Now
    </app-button>
  } @else {
    <div class="stock-info out-of-stock">
      <span>Currently unavailable</span>
    </div>
  }

  <app-seller-info [seller]="product().seller" [variant]="'box'" />
</div>
