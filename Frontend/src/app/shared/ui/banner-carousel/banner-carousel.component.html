<div class="carousel-container">
  <div class="carousel-wrapper">
    <div
      class="carousel-track"
      [class.no-transition]="trackShouldDisableTransition()"
      [style.transform]="trackTransform()"
      (transitionend)="onTransitionEnd($event)"
    >
      @for (slide of renderedSlides(); track trackSlideId(slide, $index)) {
        <div class="carousel-slide">
          <img [src]="slide.imageUrl" [alt]="slide.alt" class="carousel-image" />
        </div>
      }
    </div>

    @if (slides().length > 1) {
      <app-navigation-arrow
        class="carousel-arrow carousel-arrow--left"
        direction="left"
        ariaLabel="Previous slide"
        [disabled]="!canNavigate()"
        (clicked)="goToPrevious()"
      />

      <app-navigation-arrow
        class="carousel-arrow carousel-arrow--right"
        direction="right"
        ariaLabel="Next slide"
        [disabled]="!canNavigate()"
        (clicked)="goToNext()"
      />
      <div class="carousel-dots" role="tablist" aria-label="Slide navigation">
        @for (slide of slides(); track slide.id; let i = $index) {
          <button
            class="carousel-dot"
            [class.active]="activeSlideIndex() === i"
            (click)="goToSlide(i)"
            role="tab"
            [attr.aria-selected]="activeSlideIndex() === i"
            [attr.aria-label]="'Go to slide ' + (i + 1)"
          ></button>
        }
      </div>
    }
  </div>
</div>
