<div class="dropdown">
  <button
    class="dropdown-button"
    type="button"
    (click)="toggleDropdown()"
    [attr.aria-expanded]="isOpen()"
    [attr.aria-label]="placeholder()"
    aria-haspopup="listbox"
  >
    <span class="dropdown-label">{{ displayLabel() }}</span>
    <app-chevron-icon [class.is-open]="isOpen()" />
  </button>

  @if (isOpen()) {
    <ul class="dropdown-menu" role="listbox">
      @for (option of options(); track option.value) {
        <li role="presentation">
          <button
            class="dropdown-option"
            type="button"
            role="option"
            [attr.aria-selected]="option.value === selectedValue()"
            [class.is-selected]="option.value === selectedValue()"
            (click)="selectOption(option)"
          >
            {{ option.label }}
          </button>
        </li>
      }
    </ul>
  }
</div>
